searchData={"items":[{"type":"module","title":"JustTravelTest","doc":"JustTravelTest keeps the contexts that define your domain\nand business logic.\n\nContexts are also responsible for managing your data, regardless\nif it comes from the database, an external API or others.","ref":"JustTravelTest.html"},{"type":"module","title":"JustTravelTest.Mailer","doc":"","ref":"JustTravelTest.Mailer.html"},{"type":"function","title":"JustTravelTest.Mailer.deliver/2","doc":"Delivers an email.\n\nIf the email is delivered it returns an `{:ok, result}` tuple. If it fails,\nreturns an `{:error, error}` tuple.","ref":"JustTravelTest.Mailer.html#deliver/2"},{"type":"function","title":"JustTravelTest.Mailer.deliver!/2","doc":"Delivers an email, raises on error.\n\nIf the email is delivered, it returns the result. If it fails, it raises\na `DeliveryError`.","ref":"JustTravelTest.Mailer.html#deliver!/2"},{"type":"function","title":"JustTravelTest.Mailer.deliver_many/2","doc":"Delivers a list of emails.\n\nIt accepts a list of `%Swoosh.Email{}` as its first parameter.","ref":"JustTravelTest.Mailer.html#deliver_many/2"},{"type":"module","title":"JustTravelTest.Repo","doc":"","ref":"JustTravelTest.Repo.html"},{"type":"function","title":"JustTravelTest.Repo.aggregate/3","doc":"Callback implementation for  Ecto.Repo.aggregate/3 .","ref":"JustTravelTest.Repo.html#aggregate/3"},{"type":"function","title":"JustTravelTest.Repo.aggregate/4","doc":"Callback implementation for  Ecto.Repo.aggregate/4 .","ref":"JustTravelTest.Repo.html#aggregate/4"},{"type":"function","title":"JustTravelTest.Repo.all/2","doc":"Callback implementation for  Ecto.Repo.all/2 .","ref":"JustTravelTest.Repo.html#all/2"},{"type":"function","title":"JustTravelTest.Repo.all_by/3","doc":"Callback implementation for  Ecto.Repo.all_by/3 .","ref":"JustTravelTest.Repo.html#all_by/3"},{"type":"function","title":"JustTravelTest.Repo.checked_out?/0","doc":"Callback implementation for  Ecto.Repo.checked_out?/0 .","ref":"JustTravelTest.Repo.html#checked_out?/0"},{"type":"function","title":"JustTravelTest.Repo.checkout/2","doc":"Callback implementation for  Ecto.Repo.checkout/2 .","ref":"JustTravelTest.Repo.html#checkout/2"},{"type":"function","title":"JustTravelTest.Repo.child_spec/1","doc":"","ref":"JustTravelTest.Repo.html#child_spec/1"},{"type":"function","title":"JustTravelTest.Repo.config/0","doc":"Callback implementation for  Ecto.Repo.config/0 .","ref":"JustTravelTest.Repo.html#config/0"},{"type":"function","title":"JustTravelTest.Repo.default_options/1","doc":"Callback implementation for  Ecto.Repo.default_options/1 .","ref":"JustTravelTest.Repo.html#default_options/1"},{"type":"function","title":"JustTravelTest.Repo.delete/2","doc":"Callback implementation for  Ecto.Repo.delete/2 .","ref":"JustTravelTest.Repo.html#delete/2"},{"type":"function","title":"JustTravelTest.Repo.delete!/2","doc":"Callback implementation for  Ecto.Repo.delete!/2 .","ref":"JustTravelTest.Repo.html#delete!/2"},{"type":"function","title":"JustTravelTest.Repo.delete_all/2","doc":"Callback implementation for  Ecto.Repo.delete_all/2 .","ref":"JustTravelTest.Repo.html#delete_all/2"},{"type":"function","title":"JustTravelTest.Repo.disconnect_all/2","doc":"Forces all connections in the repo pool to disconnect within the given interval.\n\nOnce this function is called, the pool will disconnect all of its connections\nas they are checked in or as they are pinged. Checked in connections will be\nrandomly disconnected within the given time interval. Pinged connections are\nimmediately disconnected - as they are idle (according to `:idle_interval`).\n\nIf the connection has a backoff configured (which is the case by default),\ndisconnecting means an attempt at a new connection will be done immediately\nafter, without starting a new process for each connection. However, if backoff\nhas been disabled, the connection process will terminate. In such cases,\ndisconnecting all connections may cause the pool supervisor to restart\ndepending on the max_restarts/max_seconds configuration of the pool,\nso you will want to set those carefully.","ref":"JustTravelTest.Repo.html#disconnect_all/2"},{"type":"function","title":"JustTravelTest.Repo.exists?/2","doc":"Callback implementation for  Ecto.Repo.exists?/2 .","ref":"JustTravelTest.Repo.html#exists?/2"},{"type":"function","title":"JustTravelTest.Repo.explain/3","doc":"Executes an EXPLAIN statement or similar for the given query according to its kind and the\nadapter in the given repository.","ref":"JustTravelTest.Repo.html#explain/3"},{"type":"function","title":"Examples - JustTravelTest.Repo.explain/3","doc":"# Postgres\n    iex> MyRepo.explain(:all, Post)\n    \"Seq Scan on posts p0  (cost=0.00..12.12 rows=1 width=443)\"\n\n    iex> Ecto.Adapters.SQL.explain(Repo, :all, Post)\n    \"Seq Scan on posts p0  (cost=0.00..12.12 rows=1 width=443)\"\n\n    # MySQL\n    iex> MyRepo.explain(:all, from(p in Post, where: p.title == \"title\")) |> IO.puts()\n    +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------------+\n    | id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra       |\n    +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------------+\n    |  1 | SIMPLE      | p0    | NULL       | ALL  | NULL          | NULL | NULL    | NULL |    1 |    100.0 | Using where |\n    +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------------+\n\n    # Shared opts\n    iex> MyRepo.explain(:all, Post, analyze: true, timeout: 20_000)\n    \"Seq Scan on posts p0  (cost=0.00..11.70 rows=170 width=443) (actual time=0.013..0.013 rows=0 loops=1)\\nPlanning Time: 0.031 ms\\nExecution Time: 0.021 ms\"\n\nIt's safe to execute it for updates and deletes, no data change will be committed:\n\n    iex> MyRepo.explain(Repo, :update_all, from(p in Post, update: [set: [title: \"new title\"]]))\n    \"Update on posts p0  (cost=0.00..11.70 rows=170 width=449)\\n  ->  Seq Scan on posts p0  (cost=0.00..11.70 rows=170 width=449)\"\n\nThis function is also available under the repository with name `explain`:\n\n    iex> MyRepo.explain(:all, from(p in Post, where: p.title == \"title\"))\n    \"Seq Scan on posts p0  (cost=0.00..12.12 rows=1 width=443)\\n  Filter: ((title)::text = 'title'::text)\"","ref":"JustTravelTest.Repo.html#explain/3-examples"},{"type":"function","title":"Options - JustTravelTest.Repo.explain/3","doc":"Built-in adapters support passing `opts` to the EXPLAIN statement according to the following:\n\nAdapter          | Supported opts\n---------------- | --------------\nPostgrex         | `analyze`, `verbose`, `costs`, `settings`, `buffers`, `timing`, `summary`, `format`, `plan`, `wrap_in_transaction`\nMyXQL            | `format`, `wrap_in_transaction`\n\nAll options except `format` are boolean valued and default to `false`.\n\nThe allowed `format` values are `:map`, `:yaml`, and `:text`:\n  * `:map` is the deserialized JSON encoding.\n  * `:yaml` and `:text` return the result as a string.\n\nThe built-in adapters support the following formats:\n  * Postgrex: `:map`, `:yaml` and `:text`\n  * MyXQL: `:map` and `:text`\n\nThe `wrap_in_transaction` option is a boolean that controls whether the command is run inside of a\ntransaction that is rolled back. This is useful when, for example, you'd like to use `analyze: true`\non an update or delete query without modifying data. Defaults to `true`.\n\nThe `:plan` option in Postgrex can take the values `:custom` or `:fallback_generic`. When `:custom`\nis specified, the explain plan generated will consider the specific values of the query parameters\nthat are supplied. When using `:fallback_generic`, the specific values of the query parameters will\nbe ignored. `:fallback_generic` does not use PostgreSQL's built-in support for a generic explain\nplan (available as of PostgreSQL 16), but instead uses a special implementation that works for PostgreSQL\nversions 12 and above. Defaults to `:custom`.\n\nAny other value passed to `opts` will be forwarded to the underlying adapter query function, including\nshared Repo options such as `:timeout`. Non built-in adapters may have specific behaviour and you should\nconsult their documentation for more details.\n\nFor version compatibility, please check your database's documentation:\n\n  * _Postgrex_: [PostgreSQL doc](https://www.postgresql.org/docs/current/sql-explain.html).\n  * _MyXQL_: [MySQL doc](https://dev.mysql.com/doc/refman/8.0/en/explain.html).","ref":"JustTravelTest.Repo.html#explain/3-options"},{"type":"function","title":"JustTravelTest.Repo.get/3","doc":"Callback implementation for  Ecto.Repo.get/3 .","ref":"JustTravelTest.Repo.html#get/3"},{"type":"function","title":"JustTravelTest.Repo.get!/3","doc":"Callback implementation for  Ecto.Repo.get!/3 .","ref":"JustTravelTest.Repo.html#get!/3"},{"type":"function","title":"JustTravelTest.Repo.get_by/3","doc":"Callback implementation for  Ecto.Repo.get_by/3 .","ref":"JustTravelTest.Repo.html#get_by/3"},{"type":"function","title":"JustTravelTest.Repo.get_by!/3","doc":"Callback implementation for  Ecto.Repo.get_by!/3 .","ref":"JustTravelTest.Repo.html#get_by!/3"},{"type":"function","title":"JustTravelTest.Repo.get_dynamic_repo/0","doc":"Callback implementation for  Ecto.Repo.get_dynamic_repo/0 .","ref":"JustTravelTest.Repo.html#get_dynamic_repo/0"},{"type":"function","title":"JustTravelTest.Repo.in_transaction?/0","doc":"Callback implementation for  Ecto.Repo.in_transaction?/0 .","ref":"JustTravelTest.Repo.html#in_transaction?/0"},{"type":"function","title":"JustTravelTest.Repo.insert/2","doc":"Callback implementation for  Ecto.Repo.insert/2 .","ref":"JustTravelTest.Repo.html#insert/2"},{"type":"function","title":"JustTravelTest.Repo.insert!/2","doc":"Callback implementation for  Ecto.Repo.insert!/2 .","ref":"JustTravelTest.Repo.html#insert!/2"},{"type":"function","title":"JustTravelTest.Repo.insert_all/3","doc":"Callback implementation for  Ecto.Repo.insert_all/3 .","ref":"JustTravelTest.Repo.html#insert_all/3"},{"type":"function","title":"JustTravelTest.Repo.insert_or_update/2","doc":"Callback implementation for  Ecto.Repo.insert_or_update/2 .","ref":"JustTravelTest.Repo.html#insert_or_update/2"},{"type":"function","title":"JustTravelTest.Repo.insert_or_update!/2","doc":"Callback implementation for  Ecto.Repo.insert_or_update!/2 .","ref":"JustTravelTest.Repo.html#insert_or_update!/2"},{"type":"function","title":"JustTravelTest.Repo.load/2","doc":"Callback implementation for  Ecto.Repo.load/2 .","ref":"JustTravelTest.Repo.html#load/2"},{"type":"function","title":"JustTravelTest.Repo.one/2","doc":"Callback implementation for  Ecto.Repo.one/2 .","ref":"JustTravelTest.Repo.html#one/2"},{"type":"function","title":"JustTravelTest.Repo.one!/2","doc":"Callback implementation for  Ecto.Repo.one!/2 .","ref":"JustTravelTest.Repo.html#one!/2"},{"type":"function","title":"JustTravelTest.Repo.preload/3","doc":"Callback implementation for  Ecto.Repo.preload/3 .","ref":"JustTravelTest.Repo.html#preload/3"},{"type":"function","title":"JustTravelTest.Repo.prepare_query/3","doc":"Callback implementation for  Ecto.Repo.prepare_query/3 .","ref":"JustTravelTest.Repo.html#prepare_query/3"},{"type":"function","title":"JustTravelTest.Repo.prepare_transaction/2","doc":"Callback implementation for  Ecto.Repo.prepare_transaction/2 .","ref":"JustTravelTest.Repo.html#prepare_transaction/2"},{"type":"function","title":"JustTravelTest.Repo.put_dynamic_repo/1","doc":"Callback implementation for  Ecto.Repo.put_dynamic_repo/1 .","ref":"JustTravelTest.Repo.html#put_dynamic_repo/1"},{"type":"function","title":"JustTravelTest.Repo.query/3","doc":"Runs a custom SQL query.\n\nIf the query was successful, it will return an `:ok` tuple containing\na map with at least two keys:\n  * `:num_rows` - the number of rows affected\n  * `:rows` - the result set as a list. `nil` may be returned\n    instead of the list if the command does not yield any row\n    as result (but still yields the number of affected rows,\n    like a `delete` command without returning would)","ref":"JustTravelTest.Repo.html#query/3"},{"type":"function","title":"Options - JustTravelTest.Repo.query/3","doc":"* `:log` - When false, does not log the query\n  * `:timeout` - Execute request timeout, accepts: `:infinity` (default: `15000`);","ref":"JustTravelTest.Repo.html#query/3-options"},{"type":"function","title":"Examples - JustTravelTest.Repo.query/3","doc":"iex> MyRepo.query(\"SELECT $1::integer + $2\", [40, 2])\n    {:ok, %{rows: [[42]], num_rows: 1}}\n\n    iex> Ecto.Adapters.SQL.query(MyRepo, \"SELECT $1::integer + $2\", [40, 2])\n    {:ok, %{rows: [[42]], num_rows: 1}}","ref":"JustTravelTest.Repo.html#query/3-examples"},{"type":"function","title":"JustTravelTest.Repo.query!/3","doc":"Same as `query/3` but returns result directly without `:ok` tuple\nand raises on invalid queries","ref":"JustTravelTest.Repo.html#query!/3"},{"type":"function","title":"JustTravelTest.Repo.query_many/3","doc":"Runs a custom SQL query that returns multiple results on the given repo.\n\nIn case of success, it must return an `:ok` tuple containing a list of\nmaps with at least two keys:\n\n  * `:num_rows` - the number of rows affected\n\n  * `:rows` - the result set as a list. `nil` may be returned\n    instead of the list if the command does not yield any row\n    as result (but still yields the number of affected rows,\n    like a `delete` command without returning would)","ref":"JustTravelTest.Repo.html#query_many/3"},{"type":"function","title":"Options - JustTravelTest.Repo.query_many/3","doc":"* `:log` - When false, does not log the query\n  * `:timeout` - Execute request timeout, accepts: `:infinity` (default: `15000`);","ref":"JustTravelTest.Repo.html#query_many/3-options"},{"type":"function","title":"Examples - JustTravelTest.Repo.query_many/3","doc":"iex> MyRepo.query_many(\"SELECT $1; SELECT $2;\", [40, 2])\n    {:ok, [%{rows: [[40]], num_rows: 1}, %{rows: [[2]], num_rows: 1}]}\n\n    iex> Ecto.Adapters.SQL.query_many(MyRepo, \"SELECT $1; SELECT $2;\", [40, 2])\n    {:ok, [%{rows: [[40]], num_rows: 1}, %{rows: [[2]], num_rows: 1}]}","ref":"JustTravelTest.Repo.html#query_many/3-examples"},{"type":"function","title":"JustTravelTest.Repo.query_many!/3","doc":"Same as `query_many/4` but returns result directly without `:ok` tuple\nand raises on invalid queries","ref":"JustTravelTest.Repo.html#query_many!/3"},{"type":"function","title":"JustTravelTest.Repo.reload/2","doc":"Callback implementation for  Ecto.Repo.reload/2 .","ref":"JustTravelTest.Repo.html#reload/2"},{"type":"function","title":"JustTravelTest.Repo.reload!/2","doc":"Callback implementation for  Ecto.Repo.reload!/2 .","ref":"JustTravelTest.Repo.html#reload!/2"},{"type":"function","title":"JustTravelTest.Repo.rollback/1","doc":"Callback implementation for  Ecto.Repo.rollback/1 .","ref":"JustTravelTest.Repo.html#rollback/1"},{"type":"function","title":"JustTravelTest.Repo.start_link/1","doc":"Callback implementation for  Ecto.Repo.start_link/1 .","ref":"JustTravelTest.Repo.html#start_link/1"},{"type":"function","title":"JustTravelTest.Repo.stop/1","doc":"Callback implementation for  Ecto.Repo.stop/1 .","ref":"JustTravelTest.Repo.html#stop/1"},{"type":"function","title":"JustTravelTest.Repo.stream/2","doc":"Callback implementation for  Ecto.Repo.stream/2 .","ref":"JustTravelTest.Repo.html#stream/2"},{"type":"function","title":"JustTravelTest.Repo.to_sql/2","doc":"Converts the given query to SQL according to its kind and the\nadapter in the given repository.","ref":"JustTravelTest.Repo.html#to_sql/2"},{"type":"function","title":"Examples - JustTravelTest.Repo.to_sql/2","doc":"The examples below are meant for reference. Each adapter will\nreturn a different result:\n\n    iex> MyRepo.to_sql(:all, Post)\n    {\"SELECT p.id, p.title, p.inserted_at, p.created_at FROM posts as p\", []}\n\n    iex> MyRepo.to_sql(:update_all, from(p in Post, update: [set: [title: ^\"hello\"]]))\n    {\"UPDATE posts AS p SET title = $1\", [\"hello\"]}\n\n    iex> Ecto.Adapters.SQL.to_sql(:all, MyRepo, Post)\n    {\"SELECT p.id, p.title, p.inserted_at, p.created_at FROM posts as p\", []}","ref":"JustTravelTest.Repo.html#to_sql/2-examples"},{"type":"function","title":"JustTravelTest.Repo.transact/2","doc":"Callback implementation for  Ecto.Repo.transact/2 .","ref":"JustTravelTest.Repo.html#transact/2"},{"type":"function","title":"JustTravelTest.Repo.transaction/2","doc":"Callback implementation for  Ecto.Repo.transaction/2 .","ref":"JustTravelTest.Repo.html#transaction/2"},{"type":"function","title":"JustTravelTest.Repo.update/2","doc":"Callback implementation for  Ecto.Repo.update/2 .","ref":"JustTravelTest.Repo.html#update/2"},{"type":"function","title":"JustTravelTest.Repo.update!/2","doc":"Callback implementation for  Ecto.Repo.update!/2 .","ref":"JustTravelTest.Repo.html#update!/2"},{"type":"function","title":"JustTravelTest.Repo.update_all/3","doc":"Callback implementation for  Ecto.Repo.update_all/3 .","ref":"JustTravelTest.Repo.html#update_all/3"},{"type":"module","title":"JustTravelTest.Token.TokenSchema","doc":"Token schema representing one of the 100 pre-generated tokens.\n\nTokens can be in two states:\n- `:available` - Token is available for use\n- `:active` - Token is currently in use by a user","ref":"JustTravelTest.Token.TokenSchema.html"},{"type":"module","title":"JustTravelTest.Token.TokenUsageSchema","doc":"TokenUsage schema tracking the history of token usage.\n\nEach record represents a period when a token was used by a user.\nWhen a token is active, `ended_at` is null.\nWhen a token is released, `ended_at` is set to the release timestamp.","ref":"JustTravelTest.Token.TokenUsageSchema.html"},{"type":"module","title":"JustTravelTest.Tokens","doc":"Context for managing tokens and their usage.\n\nThis module provides a unified API that delegates to specialized modules:\n- `JustTravelTest.Tokens.Registration` - Token registration and activation\n- `JustTravelTest.Tokens.Release` - Token release operations\n- `JustTravelTest.Tokens.Queries` - Token query operations\n- `JustTravelTest.Tokens.History` - Usage history operations\n- `JustTravelTest.Tokens.Expiration` - Expired token management","ref":"JustTravelTest.Tokens.html"},{"type":"function","title":"JustTravelTest.Tokens.clear_all_active_tokens/0","doc":"See  JustTravelTest.Tokens.Release.clear_all_active_tokens/0 .","ref":"JustTravelTest.Tokens.html#clear_all_active_tokens/0"},{"type":"function","title":"JustTravelTest.Tokens.count_active_tokens/0","doc":"See  JustTravelTest.Tokens.Queries.count_active_tokens/0 .","ref":"JustTravelTest.Tokens.html#count_active_tokens/0"},{"type":"function","title":"JustTravelTest.Tokens.count_available_tokens/0","doc":"See  JustTravelTest.Tokens.Queries.count_available_tokens/0 .","ref":"JustTravelTest.Tokens.html#count_available_tokens/0"},{"type":"function","title":"JustTravelTest.Tokens.find_expired_tokens/0","doc":"See  JustTravelTest.Tokens.Expiration.find_expired_tokens/0 .","ref":"JustTravelTest.Tokens.html#find_expired_tokens/0"},{"type":"function","title":"JustTravelTest.Tokens.get_token_by_id/2","doc":"See  JustTravelTest.Tokens.Queries.get_token_by_id/2 .","ref":"JustTravelTest.Tokens.html#get_token_by_id/2"},{"type":"function","title":"JustTravelTest.Tokens.get_token_by_user/1","doc":"See  JustTravelTest.Tokens.Queries.get_token_by_user/1 .","ref":"JustTravelTest.Tokens.html#get_token_by_user/1"},{"type":"function","title":"JustTravelTest.Tokens.get_token_usage_history/2","doc":"See  JustTravelTest.Tokens.History.get_token_usage_history/2 .","ref":"JustTravelTest.Tokens.html#get_token_usage_history/2"},{"type":"function","title":"JustTravelTest.Tokens.list_active_tokens/1","doc":"See  JustTravelTest.Tokens.Queries.list_active_tokens/1 .","ref":"JustTravelTest.Tokens.html#list_active_tokens/1"},{"type":"function","title":"JustTravelTest.Tokens.list_all_tokens/1","doc":"See  JustTravelTest.Tokens.Queries.list_all_tokens/1 .","ref":"JustTravelTest.Tokens.html#list_all_tokens/1"},{"type":"function","title":"JustTravelTest.Tokens.list_available_tokens/0","doc":"See  JustTravelTest.Tokens.Queries.list_available_tokens/0 .","ref":"JustTravelTest.Tokens.html#list_available_tokens/0"},{"type":"function","title":"JustTravelTest.Tokens.register_token_usage/1","doc":"See  JustTravelTest.Tokens.Registration.register_token_usage/1 .","ref":"JustTravelTest.Tokens.html#register_token_usage/1"},{"type":"function","title":"JustTravelTest.Tokens.release_expired_tokens/0","doc":"See  JustTravelTest.Tokens.Expiration.release_expired_tokens/0 .","ref":"JustTravelTest.Tokens.html#release_expired_tokens/0"},{"type":"function","title":"JustTravelTest.Tokens.release_oldest_active_token/0","doc":"See  JustTravelTest.Tokens.Release.release_oldest_active_token/0 .","ref":"JustTravelTest.Tokens.html#release_oldest_active_token/0"},{"type":"function","title":"JustTravelTest.Tokens.release_token/1","doc":"See  JustTravelTest.Tokens.Release.release_token/1 .","ref":"JustTravelTest.Tokens.html#release_token/1"},{"type":"function","title":"JustTravelTest.Tokens.release_token_by_user/1","doc":"See  JustTravelTest.Tokens.Release.release_token_by_user/1 .","ref":"JustTravelTest.Tokens.html#release_token_by_user/1"},{"type":"module","title":"JustTravelTest.Tokens.Expiration","doc":"Handles expired token management.","ref":"JustTravelTest.Tokens.Expiration.html"},{"type":"function","title":"JustTravelTest.Tokens.Expiration.find_expired_tokens/0","doc":"Finds tokens that have been active for more than the configured lifetime.\n\nReturns a list of tokens that should be released.","ref":"JustTravelTest.Tokens.Expiration.html#find_expired_tokens/0"},{"type":"function","title":"JustTravelTest.Tokens.Expiration.release_expired_tokens/0","doc":"Releases all expired tokens.\n\nFinds tokens active for more than the configured lifetime and releases them.\nReturns the count of released tokens.","ref":"JustTravelTest.Tokens.Expiration.html#release_expired_tokens/0"},{"type":"module","title":"JustTravelTest.Tokens.History","doc":"Handles token usage history operations.","ref":"JustTravelTest.Tokens.History.html"},{"type":"function","title":"JustTravelTest.Tokens.History.get_token_usage_history/2","doc":"Gets the usage history for a specific token.\n\nReturns all usage records ordered by `started_at` descending (most recent first).\n\nOptionally preloads token information.","ref":"JustTravelTest.Tokens.History.html#get_token_usage_history/2"},{"type":"module","title":"JustTravelTest.Tokens.Logger","doc":"Structured logging helper for token operations.\n\nProvides consistent logging format with context for production monitoring.","ref":"JustTravelTest.Tokens.Logger.html"},{"type":"function","title":"JustTravelTest.Tokens.Logger.log_activation_failure/3","doc":"","ref":"JustTravelTest.Tokens.Logger.html#log_activation_failure/3"},{"type":"function","title":"JustTravelTest.Tokens.Logger.log_activation_success/3","doc":"Logs token activation with structured context.","ref":"JustTravelTest.Tokens.Logger.html#log_activation_success/3"},{"type":"function","title":"JustTravelTest.Tokens.Logger.log_error/3","doc":"Logs errors with full context for debugging.","ref":"JustTravelTest.Tokens.Logger.html#log_error/3"},{"type":"function","title":"JustTravelTest.Tokens.Logger.log_expiration/2","doc":"Logs token expiration with structured context.","ref":"JustTravelTest.Tokens.Logger.html#log_expiration/2"},{"type":"function","title":"JustTravelTest.Tokens.Logger.log_manager_check/2","doc":"Logs manager check with structured context.","ref":"JustTravelTest.Tokens.Logger.html#log_manager_check/2"},{"type":"function","title":"JustTravelTest.Tokens.Logger.log_release_failure/3","doc":"","ref":"JustTravelTest.Tokens.Logger.html#log_release_failure/3"},{"type":"function","title":"JustTravelTest.Tokens.Logger.log_release_success/3","doc":"Logs token release with structured context.","ref":"JustTravelTest.Tokens.Logger.html#log_release_success/3"},{"type":"module","title":"JustTravelTest.Tokens.Manager","doc":"GenServer that periodically checks for and releases expired tokens.\n\nThis process runs a periodic job every N seconds (configurable) to find\ntokens that have been active for more than the configured lifetime (2 minutes)\nand automatically releases them.\n\nThe process is supervised and will automatically restart on failure.","ref":"JustTravelTest.Tokens.Manager.html"},{"type":"function","title":"JustTravelTest.Tokens.Manager.check_and_release_expired/0","doc":"Manually triggers a check for expired tokens.\nUseful for testing or manual intervention.","ref":"JustTravelTest.Tokens.Manager.html#check_and_release_expired/0"},{"type":"function","title":"JustTravelTest.Tokens.Manager.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"JustTravelTest.Tokens.Manager.html#child_spec/1"},{"type":"function","title":"JustTravelTest.Tokens.Manager.start_link/1","doc":"Starts the token manager GenServer.","ref":"JustTravelTest.Tokens.Manager.html#start_link/1"},{"type":"module","title":"JustTravelTest.Tokens.Queries","doc":"Handles token query operations.","ref":"JustTravelTest.Tokens.Queries.html"},{"type":"function","title":"JustTravelTest.Tokens.Queries.count_active_tokens/0","doc":"Counts active tokens.","ref":"JustTravelTest.Tokens.Queries.html#count_active_tokens/0"},{"type":"function","title":"JustTravelTest.Tokens.Queries.count_available_tokens/0","doc":"Counts available tokens.","ref":"JustTravelTest.Tokens.Queries.html#count_available_tokens/0"},{"type":"function","title":"JustTravelTest.Tokens.Queries.get_token_by_id/2","doc":"Gets a token by its ID.\n\nOptionally preloads token_usages if needed.","ref":"JustTravelTest.Tokens.Queries.html#get_token_by_id/2"},{"type":"function","title":"JustTravelTest.Tokens.Queries.get_token_by_user/1","doc":"Gets the active token for a user.","ref":"JustTravelTest.Tokens.Queries.html#get_token_by_user/1"},{"type":"function","title":"JustTravelTest.Tokens.Queries.list_active_tokens/1","doc":"Lists all active tokens.\n\nOptionally includes usage counts via preload.","ref":"JustTravelTest.Tokens.Queries.html#list_active_tokens/1"},{"type":"function","title":"JustTravelTest.Tokens.Queries.list_all_tokens/1","doc":"Lists all tokens with their current state.\n\nOptionally includes usage counts via preload.","ref":"JustTravelTest.Tokens.Queries.html#list_all_tokens/1"},{"type":"function","title":"JustTravelTest.Tokens.Queries.list_available_tokens/0","doc":"Lists all available tokens.","ref":"JustTravelTest.Tokens.Queries.html#list_available_tokens/0"},{"type":"module","title":"JustTravelTest.Tokens.Registration","doc":"Handles token registration and activation logic.","ref":"JustTravelTest.Tokens.Registration.html"},{"type":"function","title":"JustTravelTest.Tokens.Registration.register_token_usage/1","doc":"Registers a token for use by a user.\n\nThis is the main entry point for token activation. It:\n1. Checks if the limit of 100 active tokens is reached\n2. If reached, releases the oldest active token\n3. Activates an available token for the user\n4. Creates a usage history record\n\nReturns `{:ok, %{token_id: uuid, user_id: uuid}}` on success.\nReturns `{:error, reason}` on failure.","ref":"JustTravelTest.Tokens.Registration.html#register_token_usage/1"},{"type":"module","title":"JustTravelTest.Tokens.Release","doc":"Handles token release operations.","ref":"JustTravelTest.Tokens.Release.html"},{"type":"function","title":"JustTravelTest.Tokens.Release.clear_all_active_tokens/0","doc":"Clears all active tokens.\n\nReleases all currently active tokens and closes their usage records.\nReturns the count of cleared tokens.","ref":"JustTravelTest.Tokens.Release.html#clear_all_active_tokens/0"},{"type":"function","title":"JustTravelTest.Tokens.Release.release_oldest_active_token/0","doc":"Releases the oldest active token.\n\nThis is an internal function used for limit management.\nFinds the token with the earliest `activated_at` timestamp and releases it.","ref":"JustTravelTest.Tokens.Release.html#release_oldest_active_token/0"},{"type":"function","title":"JustTravelTest.Tokens.Release.release_token/1","doc":"Releases a token by its ID.\n\nSets the token state to `:available` and closes the active usage record.","ref":"JustTravelTest.Tokens.Release.html#release_token/1"},{"type":"function","title":"JustTravelTest.Tokens.Release.release_token_by_user/1","doc":"Releases a token by user ID.\n\nFinds the active token for a user and releases it.","ref":"JustTravelTest.Tokens.Release.html#release_token_by_user/1"},{"type":"module","title":"JustTravelTestWeb","doc":"The entrypoint for defining your web interface, such\nas controllers, components, channels, and so on.\n\nThis can be used in your application as:\n\n    use JustTravelTestWeb, :controller\n    use JustTravelTestWeb, :html\n\nThe definitions below will be executed for every controller,\ncomponent, etc, so keep them short and clean, focused\non imports, uses and aliases.\n\nDo NOT define functions inside the quoted expressions\nbelow. Instead, define additional modules and import\nthose modules here.","ref":"JustTravelTestWeb.html"},{"type":"macro","title":"JustTravelTestWeb.__using__/1","doc":"When used, dispatch to the appropriate controller/live_view/etc.","ref":"JustTravelTestWeb.html#__using__/1"},{"type":"function","title":"JustTravelTestWeb.channel/0","doc":"","ref":"JustTravelTestWeb.html#channel/0"},{"type":"function","title":"JustTravelTestWeb.controller/0","doc":"","ref":"JustTravelTestWeb.html#controller/0"},{"type":"function","title":"JustTravelTestWeb.router/0","doc":"","ref":"JustTravelTestWeb.html#router/0"},{"type":"function","title":"JustTravelTestWeb.static_paths/0","doc":"","ref":"JustTravelTestWeb.html#static_paths/0"},{"type":"function","title":"JustTravelTestWeb.verified_routes/0","doc":"","ref":"JustTravelTestWeb.html#verified_routes/0"},{"type":"module","title":"JustTravelTestWeb.Endpoint","doc":"","ref":"JustTravelTestWeb.Endpoint.html"},{"type":"function","title":"JustTravelTestWeb.Endpoint.broadcast/3","doc":"Callback implementation for  Phoenix.Endpoint.broadcast/3 .","ref":"JustTravelTestWeb.Endpoint.html#broadcast/3"},{"type":"function","title":"JustTravelTestWeb.Endpoint.broadcast!/3","doc":"Callback implementation for  Phoenix.Endpoint.broadcast!/3 .","ref":"JustTravelTestWeb.Endpoint.html#broadcast!/3"},{"type":"function","title":"JustTravelTestWeb.Endpoint.broadcast_from/4","doc":"Callback implementation for  Phoenix.Endpoint.broadcast_from/4 .","ref":"JustTravelTestWeb.Endpoint.html#broadcast_from/4"},{"type":"function","title":"JustTravelTestWeb.Endpoint.broadcast_from!/4","doc":"Callback implementation for  Phoenix.Endpoint.broadcast_from!/4 .","ref":"JustTravelTestWeb.Endpoint.html#broadcast_from!/4"},{"type":"function","title":"JustTravelTestWeb.Endpoint.call/2","doc":"Callback implementation for  Plug.call/2 .","ref":"JustTravelTestWeb.Endpoint.html#call/2"},{"type":"function","title":"JustTravelTestWeb.Endpoint.child_spec/1","doc":"Returns the child specification to start the endpoint\nunder a supervision tree.","ref":"JustTravelTestWeb.Endpoint.html#child_spec/1"},{"type":"function","title":"JustTravelTestWeb.Endpoint.config/2","doc":"Returns the endpoint configuration for `key`\n\nReturns `default` if the key does not exist.","ref":"JustTravelTestWeb.Endpoint.html#config/2"},{"type":"function","title":"JustTravelTestWeb.Endpoint.config_change/2","doc":"Reloads the configuration given the application environment changes.","ref":"JustTravelTestWeb.Endpoint.html#config_change/2"},{"type":"function","title":"JustTravelTestWeb.Endpoint.host/0","doc":"Returns the host for the given endpoint.","ref":"JustTravelTestWeb.Endpoint.html#host/0"},{"type":"function","title":"JustTravelTestWeb.Endpoint.init/1","doc":"Callback implementation for  Plug.init/1 .","ref":"JustTravelTestWeb.Endpoint.html#init/1"},{"type":"function","title":"JustTravelTestWeb.Endpoint.local_broadcast/3","doc":"Callback implementation for  Phoenix.Endpoint.local_broadcast/3 .","ref":"JustTravelTestWeb.Endpoint.html#local_broadcast/3"},{"type":"function","title":"JustTravelTestWeb.Endpoint.local_broadcast_from/4","doc":"Callback implementation for  Phoenix.Endpoint.local_broadcast_from/4 .","ref":"JustTravelTestWeb.Endpoint.html#local_broadcast_from/4"},{"type":"function","title":"JustTravelTestWeb.Endpoint.path/1","doc":"Generates the path information when routing to this endpoint.","ref":"JustTravelTestWeb.Endpoint.html#path/1"},{"type":"function","title":"JustTravelTestWeb.Endpoint.script_name/0","doc":"Generates the script name.","ref":"JustTravelTestWeb.Endpoint.html#script_name/0"},{"type":"function","title":"JustTravelTestWeb.Endpoint.server_info/1","doc":"Returns the address and port that the server is running on","ref":"JustTravelTestWeb.Endpoint.html#server_info/1"},{"type":"function","title":"JustTravelTestWeb.Endpoint.start_link/1","doc":"Starts the endpoint supervision tree.\n\nAll other options are merged into the endpoint configuration.","ref":"JustTravelTestWeb.Endpoint.html#start_link/1"},{"type":"function","title":"JustTravelTestWeb.Endpoint.static_integrity/1","doc":"Generates a base64-encoded cryptographic hash (sha512) to a static file\nin `priv/static`. Meant to be used for Subresource Integrity with CDNs.","ref":"JustTravelTestWeb.Endpoint.html#static_integrity/1"},{"type":"function","title":"JustTravelTestWeb.Endpoint.static_lookup/1","doc":"Returns a two item tuple with the first item being the `static_path`\nand the second item being the `static_integrity`.","ref":"JustTravelTestWeb.Endpoint.html#static_lookup/1"},{"type":"function","title":"JustTravelTestWeb.Endpoint.static_path/1","doc":"Generates a route to a static file in `priv/static`.","ref":"JustTravelTestWeb.Endpoint.html#static_path/1"},{"type":"function","title":"JustTravelTestWeb.Endpoint.static_url/0","doc":"Generates the static URL without any path information.\n\nIt uses the configuration under `:static_url` to generate\nsuch. It falls back to `:url` if `:static_url` is not set.","ref":"JustTravelTestWeb.Endpoint.html#static_url/0"},{"type":"function","title":"JustTravelTestWeb.Endpoint.struct_url/0","doc":"Generates the endpoint base URL but as a `URI` struct.\n\nIt uses the configuration under `:url` to generate such.\nUseful for manipulating the URL data and passing it to\nURL helpers.","ref":"JustTravelTestWeb.Endpoint.html#struct_url/0"},{"type":"function","title":"JustTravelTestWeb.Endpoint.subscribe/2","doc":"Callback implementation for  Phoenix.Endpoint.subscribe/2 .","ref":"JustTravelTestWeb.Endpoint.html#subscribe/2"},{"type":"function","title":"JustTravelTestWeb.Endpoint.unsubscribe/1","doc":"Callback implementation for  Phoenix.Endpoint.unsubscribe/1 .","ref":"JustTravelTestWeb.Endpoint.html#unsubscribe/1"},{"type":"function","title":"JustTravelTestWeb.Endpoint.url/0","doc":"Generates the endpoint base URL without any path information.\n\nIt uses the configuration under `:url` to generate such.","ref":"JustTravelTestWeb.Endpoint.html#url/0"},{"type":"module","title":"JustTravelTestWeb.ErrorJSON","doc":"This module is invoked by your endpoint in case of errors on JSON requests.\n\nSee config/config.exs.","ref":"JustTravelTestWeb.ErrorJSON.html"},{"type":"function","title":"JustTravelTestWeb.ErrorJSON.render/2","doc":"","ref":"JustTravelTestWeb.ErrorJSON.html#render/2"},{"type":"module","title":"JustTravelTestWeb.Gettext","doc":"A module providing Internationalization with a gettext-based API.\n\nBy using [Gettext](https://hexdocs.pm/gettext), your module compiles translations\nthat you can use in your application. To use this Gettext backend module,\ncall `use Gettext` and pass it as an option:\n\n    use Gettext, backend: JustTravelTestWeb.Gettext\n\n    # Simple translation\n    gettext(\"Here is the string to translate\")\n\n    # Plural translation\n    ngettext(\"Here is the string to translate\",\n             \"Here are the strings to translate\",\n             3)\n\n    # Domain-based translation\n    dgettext(\"errors\", \"Here is the error message to translate\")\n\nSee the [Gettext Docs](https://hexdocs.pm/gettext) for detailed usage.","ref":"JustTravelTestWeb.Gettext.html"},{"type":"function","title":"JustTravelTestWeb.Gettext.handle_missing_bindings/2","doc":"Callback implementation for  Gettext.Backend.handle_missing_bindings/2 .","ref":"JustTravelTestWeb.Gettext.html#handle_missing_bindings/2"},{"type":"function","title":"JustTravelTestWeb.Gettext.handle_missing_plural_translation/7","doc":"Callback implementation for  Gettext.Backend.handle_missing_plural_translation/7 .","ref":"JustTravelTestWeb.Gettext.html#handle_missing_plural_translation/7"},{"type":"function","title":"JustTravelTestWeb.Gettext.handle_missing_translation/5","doc":"Callback implementation for  Gettext.Backend.handle_missing_translation/5 .","ref":"JustTravelTestWeb.Gettext.html#handle_missing_translation/5"},{"type":"module","title":"JustTravelTestWeb.HealthController","doc":"Health check endpoint for monitoring and load balancers.\n\nReturns the status of critical system components:\n- Database connectivity\n- Token manager process status\n- System metrics","ref":"JustTravelTestWeb.HealthController.html"},{"type":"function","title":"JustTravelTestWeb.HealthController.check/2","doc":"Health check endpoint.\n\nReturns 200 OK if all systems are healthy, 503 Service Unavailable otherwise.","ref":"JustTravelTestWeb.HealthController.html#check/2"},{"type":"module","title":"JustTravelTestWeb.Router","doc":"","ref":"JustTravelTestWeb.Router.html"},{"type":"function","title":"JustTravelTestWeb.Router.api/2","doc":"","ref":"JustTravelTestWeb.Router.html#api/2"},{"type":"function","title":"JustTravelTestWeb.Router.call/2","doc":"Callback invoked by Plug on every request.","ref":"JustTravelTestWeb.Router.html#call/2"},{"type":"function","title":"JustTravelTestWeb.Router.formatted_routes/1","doc":"Callback implementation for  Phoenix.VerifiedRoutes.formatted_routes/1 .","ref":"JustTravelTestWeb.Router.html#formatted_routes/1"},{"type":"function","title":"JustTravelTestWeb.Router.init/1","doc":"Callback required by Plug that initializes the router\nfor serving web requests.","ref":"JustTravelTestWeb.Router.html#init/1"},{"type":"function","title":"JustTravelTestWeb.Router.verified_route?/2","doc":"Callback implementation for  Phoenix.VerifiedRoutes.verified_route?/2 .","ref":"JustTravelTestWeb.Router.html#verified_route?/2"},{"type":"module","title":"JustTravelTestWeb.Telemetry","doc":"","ref":"JustTravelTestWeb.Telemetry.html"},{"type":"function","title":"JustTravelTestWeb.Telemetry.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"JustTravelTestWeb.Telemetry.html#child_spec/1"},{"type":"function","title":"JustTravelTestWeb.Telemetry.metrics/0","doc":"","ref":"JustTravelTestWeb.Telemetry.html#metrics/0"},{"type":"function","title":"JustTravelTestWeb.Telemetry.start_link/1","doc":"","ref":"JustTravelTestWeb.Telemetry.html#start_link/1"},{"type":"module","title":"JustTravelTestWeb.Token.ErrorJSON","doc":"Contains all error view functions for the token_controller.","ref":"JustTravelTestWeb.Token.ErrorJSON.html"},{"type":"function","title":"JustTravelTestWeb.Token.ErrorJSON.error/1","doc":"","ref":"JustTravelTestWeb.Token.ErrorJSON.html#error/1"},{"type":"function","title":"JustTravelTestWeb.Token.ErrorJSON.render/2","doc":"","ref":"JustTravelTestWeb.Token.ErrorJSON.html#render/2"},{"type":"module","title":"JustTravelTestWeb.Token.FallbackController","doc":"Call functions for the fallback controller and\nputs specific error views considering parameters received from captured\nerrors from the token_controller.","ref":"JustTravelTestWeb.Token.FallbackController.html"},{"type":"module","title":"JustTravelTestWeb.Token.TokenController","doc":"Controller for token management API endpoints.","ref":"JustTravelTestWeb.Token.TokenController.html"},{"type":"function","title":"JustTravelTestWeb.Token.TokenController.activate/2","doc":"Activates a token for use by a user.\n\nPOST /api/tokens/activate\nBody: {\"user_id\": \"uuid-string\"}","ref":"JustTravelTestWeb.Token.TokenController.html#activate/2"},{"type":"function","title":"JustTravelTestWeb.Token.TokenController.clear_active/2","doc":"Clears all active tokens.\n\nDELETE /api/tokens/active","ref":"JustTravelTestWeb.Token.TokenController.html#clear_active/2"},{"type":"function","title":"JustTravelTestWeb.Token.TokenController.index/2","doc":"Lists all tokens with optional state filter.\n\nGET /api/tokens?state=available|active|all","ref":"JustTravelTestWeb.Token.TokenController.html#index/2"},{"type":"function","title":"JustTravelTestWeb.Token.TokenController.show/2","doc":"Gets a specific token by ID with usage count.\n\nGET /api/tokens/:token_id","ref":"JustTravelTestWeb.Token.TokenController.html#show/2"},{"type":"function","title":"JustTravelTestWeb.Token.TokenController.usages/2","doc":"Gets the usage records for a specific token.\n\nGET /api/tokens/:token_id/usages","ref":"JustTravelTestWeb.Token.TokenController.html#usages/2"},{"type":"module","title":"JustTravelTestWeb.Token.TokenJSON","doc":"This module contains all view functions for token API responses.","ref":"JustTravelTestWeb.Token.TokenJSON.html"},{"type":"function","title":"JustTravelTestWeb.Token.TokenJSON.activate/1","doc":"Renders the activated token response.","ref":"JustTravelTestWeb.Token.TokenJSON.html#activate/1"},{"type":"function","title":"JustTravelTestWeb.Token.TokenJSON.clear_active/1","doc":"Renders the clear active tokens response.","ref":"JustTravelTestWeb.Token.TokenJSON.html#clear_active/1"},{"type":"function","title":"JustTravelTestWeb.Token.TokenJSON.index/1","doc":"Renders a list of tokens.","ref":"JustTravelTestWeb.Token.TokenJSON.html#index/1"},{"type":"function","title":"JustTravelTestWeb.Token.TokenJSON.show/1","doc":"Renders a single token with usage count.","ref":"JustTravelTestWeb.Token.TokenJSON.html#show/1"},{"type":"function","title":"JustTravelTestWeb.Token.TokenJSON.usages/1","doc":"Renders token usage records.","ref":"JustTravelTestWeb.Token.TokenJSON.html#usages/1"}],"proglang":"elixir","content_type":"text/markdown","producer":{"name":"ex_doc","version":"0.39.3"}}